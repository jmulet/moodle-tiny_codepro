define("tiny_codepro/preferences",["exports"],(function(_exports){Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.setPref=_exports.savePrefs=_exports.getPref=void 0;
/**
   * Tiny CodePro plugin.
   *
   * @module      tiny_codepro/plugin
   * @copyright   2023-2025 Josep Mulet Pol <pep.mulet@gmail.com>
   * @license     http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
   */
const defaultPrefs={theme:"light",wrap:!0,fs:!1,fontsize:11,minimap:!0,view:void 0},loadPrefs=()=>{const storedPreferences=localStorage.getItem("tiny-codepro");let storedParsed={};if(storedPreferences)try{storedParsed=JSON.parse(storedPreferences)}catch(ex){console.error("Cannot parse JSON",storedPreferences)}return{...defaultPrefs,...storedParsed}},preferences=loadPrefs();_exports.getPref=(key,def)=>preferences[key]??def;_exports.savePrefs=()=>{localStorage.setItem("tiny-codepro",JSON.stringify(preferences))};_exports.setPref=(key,value,save)=>{if(preferences[key]=value,save){const oldPrefs=loadPrefs();oldPrefs[key]=value,localStorage.setItem("tiny-codepro",JSON.stringify(oldPrefs))}}}));

//# sourceMappingURL=preferences.min.js.map