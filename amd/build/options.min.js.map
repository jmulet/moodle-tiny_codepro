{"version":3,"file":"options.min.js","sources":["../src/options.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * Tiny CodePro plugin.\n *\n * @module      tiny_codepro/plugin\n * @copyright   2023-2025 Josep Mulet Pol <pep.mulet@gmail.com>\n * @license     http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\n\nimport {getPluginOptionName} from 'editor_tiny/options';\nimport {pluginName} from './common';\n\nconst showPlugin = getPluginOptionName(pluginName, 'showplugin');\nconst autoPrettify = getPluginOptionName(pluginName, 'autoprettify');\nconst uiMode = getPluginOptionName(pluginName, 'uimode');\nconst syncCaret = getPluginOptionName(pluginName, 'synccaret');\nconst customElements = getPluginOptionName(pluginName, 'customelements');\n\n\nexport const register = (editor) => {\n    const registerOption = editor.options.register;\n\n    registerOption(showPlugin, {\n        processor: 'boolean',\n        \"default\": true,\n    });\n\n    registerOption(autoPrettify, {\n        processor: 'boolean',\n        \"default\": true,\n    });\n\n    registerOption(syncCaret, {\n        processor: 'boolean',\n        \"default\": true,\n    });\n\n    registerOption(uiMode, {\n        processor: 'string',\n        \"default\": 'user:dialog',\n    });\n\n    registerOption(customElements, {\n        processor: 'string',\n        \"default\": '',\n    });\n};\n\n\n/**\n * Get the permissions configuration for the Tiny plugin.\n *\n * @param {TinyMCE} editor\n * @returns {boolean}\n */\nexport const isPluginVisible = (editor) => editor.options.get(showPlugin);\n\n/**\n * Should prettify the HTML code when the CodeMirror editor opens?\n *\n * @param {TinyMCE} editor\n * @returns {boolean}\n */\nexport const isAutoFormatHTML = (editor) => editor.options.get(autoPrettify);\n\n/**\n * Should the cursor position be synchronized between TinyMCE and CodeMirror?\n * @param {TinyMCE} editor\n * @returns {boolean}\n */\nexport const isSyncCaret = (editor) => editor.options.get(syncCaret);\n\n/**\n * How to render the HTML editor?\n * dialog - It opens always as a dialog\n * panel - It opens always as a panel\n * user:dialog - The user is allowed to change the setting; defaults to dialog\n * user:panel - The user is allowed to change the setting; defaults to panel\n * @param {TinyMCE} editor\n * @returns {string}\n */\nexport const getDefaultUI = (editor) => editor.options.get(uiMode);\n\n/**\n * Determines whether the editor is in fullscreen or not\n * @param {TinyMCE} editor\n * @returns {boolean}\n */\nexport const isFullscreen = (editor) => editor.container.classList.contains('tox-fullscreen');\n\n/**\n * The custom non-HTML standard elements\n * @param {TinyMCE} editor\n * @returns {string}\n */\nexport const getCustomElements = (editor) => editor.options.get(customElements);"],"names":["showPlugin","pluginName","autoPrettify","uiMode","syncCaret","customElements","editor","registerOption","options","register","processor","get","container","classList","contains"],"mappings":";;;;;;;;MA0BMA,YAAa,gCAAoBC,mBAAY,cAC7CC,cAAe,gCAAoBD,mBAAY,gBAC/CE,QAAS,gCAAoBF,mBAAY,UACzCG,WAAY,gCAAoBH,mBAAY,aAC5CI,gBAAiB,gCAAoBJ,mBAAY,oCAG9BK,eACfC,eAAiBD,OAAOE,QAAQC,SAEtCF,eAAeP,WAAY,CACvBU,UAAW,mBACA,IAGfH,eAAeL,aAAc,CACzBQ,UAAW,mBACA,IAGfH,eAAeH,UAAW,CACtBM,UAAW,mBACA,IAGfH,eAAeJ,OAAQ,CACnBO,UAAW,iBACA,gBAGfH,eAAeF,eAAgB,CAC3BK,UAAW,iBACA,+BAWaJ,QAAWA,OAAOE,QAAQG,IAAIX,sCAQ7BM,QAAWA,OAAOE,QAAQG,IAAIT,mCAOnCI,QAAWA,OAAOE,QAAQG,IAAIP,iCAW7BE,QAAWA,OAAOE,QAAQG,IAAIR,8BAO9BG,QAAWA,OAAOM,UAAUC,UAAUC,SAAS,6CAO1CR,QAAWA,OAAOE,QAAQG,IAAIN"}